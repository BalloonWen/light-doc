<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Microservices - The final nail in the coffin for Java EE - Light Ecosystem for Microservices</title>
    <meta name="generator" content="Hugo 0.21-DEV" />

    
    <meta name="description" content="Light Document">
    
    <link rel="canonical" href="https://networknt.github.io/architecture/jee-is-dead/">
    
    <meta name="author" content="Steve Hu">
    

    <meta property="og:url" content="https://networknt.github.io/architecture/jee-is-dead/">
    <meta property="og:title" content="Light Ecosystem for Microservices">
    <meta property="og:image" content="https://networknt.github.io/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Light Ecosystem for Microservices">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://networknt.github.io/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://networknt.github.io/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://networknt.github.io/fonts/icon.eot');
        src: url('https://networknt.github.io/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://networknt.github.io/fonts/icon.woff')
               format('woff'),
             url('https://networknt.github.io/fonts/icon.ttf')
               format('truetype'),
             url('https://networknt.github.io/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://networknt.github.io/stylesheets/application.css">
    <link rel="stylesheet" href="https://networknt.github.io/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://networknt.github.io/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://networknt.github.io/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://networknt.github.io/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-red palette-accent-teal">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Microservices - The final nail in the coffin for Java EE
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/stevehu" title="@stevehu on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/networknt/light-doc" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://networknt.github.io/images/logo.png">
        </div>
      
      <div class="name">
        <strong>Light Ecosystem for Microservices <span class="version">1.4.4</span></strong>
        
          <br>
          networknt/light-doc
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/networknt/light-doc/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/networknt/light-doc/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Getting started" href="https://networknt.github.io/getting-started/">
	
	Getting started
</a>



  
</li>



<li>
  
    



<a  title="Architecture" href="https://networknt.github.io/architecture/">
	
	Architecture
</a>



  
</li>



<li>
  
    



<a  title="Design" href="https://networknt.github.io/design/">
	
	Design
</a>



  
</li>



<li>
  
    



<a  title="Middleware" href="https://networknt.github.io/middleware/">
	
	Middleware
</a>



  
</li>



<li>
  
    



<a  title="Server Components" href="https://networknt.github.io/server/">
	
	Server Components
</a>



  
</li>



<li>
  
    



<a  title="Client Components" href="https://networknt.github.io/client/">
	
	Client Components
</a>



  
</li>



<li>
  
    



<a  title="DevOps" href="https://networknt.github.io/devops/">
	
	DevOps
</a>



  
</li>



<li>
  
    



<a  title="Benchmark" href="https://networknt.github.io/benchmark/">
	
	Benchmark
</a>



  
</li>



<li>
  
    



<a  title="Tutorial" href="https://networknt.github.io/tutorial/">
	
	Tutorial
</a>



  
</li>



<li>
  
    



<a  title="Example" href="https://networknt.github.io/example/">
	
	Example
</a>



  
</li>



<li>
  
    



<a  title="Tool" href="https://networknt.github.io/tool/">
	
	Tool
</a>



  
</li>



<li>
  
    



<a  title="Issues &amp; Help" href="https://github.com/networknt/light-doc/issues">
	
	Issues &amp; Help
</a>



  
</li>



<li>
  
    



<a  title="Roadmap" href="https://networknt.github.io/roadmap/">
	
	Roadmap
</a>



  
</li>



<li>
  
    



<a  title="FAQ" href="https://networknt.github.io/faq/">
	
	FAQ
</a>



  
</li>



<li>
  
    



<a  title="License" href="https://www.apache.org/licenses/LICENSE-2.0">
	
	License
</a>



  
</li>



<li>
  
    



<a  title="Introduction" href="https://networknt.github.io/index.html">
	
	Introduction
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/stevehu" target="_blank" title="@stevehu on GitHub">
              @stevehu on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:stevehu@gmail.com" title="Email of stevehu@gmail.com">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Microservices - The final nail in the coffin for Java EE </h1>

			

<p>When Java was out, big players like IBM, BEA, Oracle etc. saw a great opportunity
to make money as it is a great language for web programming. But how can you make
big money around a programming language? The answer is to build servers on top
of it and make it complicated so big corporations will pay big bucks for it. That
is why we have Java EE specs, JSRs, Weblogic, Websphere and other servers.</p>

<p>Large packages are deployed on these servers that are run so slow and used too
much memory. Development and Debugging within a container was a nightmare for
developers and they usually paid well to compensating the pain.</p>

<p>Because of resource usage is too high, you could not find public hosting company
to support Java with a reasonable price tag for a long time. You want to build a
website in Java, you have to pay big bucks for hosting even you might just use a
Servlet container.</p>

<p>For a long time, Java was used within enterprises and big corporations as only
they can afford million-dollar application servers and well paid enterprise level
developers. I myself have been riding the train since beginning as a Java EE
consultant☺</p>

<p>In 2003, Rod Johnson released Spring Framework and it allows IoC and POJO for
development without EJBs. The productivity increment is huge and a lot of
developers jumped onto it and thrown J2EE EJBs out of the window. The application
server vendors saw this and in Java EE 5, they provided some features to make
developer&rsquo;s life easier and less painful, today’s <a href="https://networknt.github.io/light-4j/architecture/spring-is-bloated/">Spring Framework is so
bloated</a>
like Java EE containers and it still based on Java EE servlet container which was
designed in early 2000 without considering multiple cores and NIO.</p>

<p>During this period of time, PHP was flying. It used less memory and resource and
was well supported by hosting companies. Some CMS platform built on PHP like
WordPress, Drupal etc. drove a lot of open source developers into PHP. Although
PHP is the most popular language these days, it has its shortcomings. It is slow
and hard to make it scalable.</p>

<p>In 2009, Ryan Dahl introduced Node.js that supports asynchronous, non-blocking
and event-driven I/O. This increase the response rate dramatically as the server
threads are well utilized and the throughput of a single server can be comparable
to a cluster of Java EE servers. Node.js is a very good design but it has its
<a href="https://networknt.github.io/light-4j/benchmarks/nodejs/">limitations</a>.
It is hard to scale and hard to integrate with existing legacy systems.</p>

<p>In 2014, a new player Undertow came in town and it is Java based non-blocking web
server. From techempower.com <a href="https://www.techempower.com/benchmarks/#section=data-r12&amp;hw=peak&amp;test=plaintext">test</a>,
it serves millions requests per second on a single $8000 dell server using the same
test case Google claimed to serve 1 million requests with a cluster. It is lightweight
with the core coming under 1Mb and a simple embedded server uses less than 4Mb of
heap space.</p>

<p>With the new Undertow Core, we&rsquo;ve built <a href="https://github.com/networknt/light-4j">Light 4J Framework</a>
which is aiming containerized microserivces. It supports design driven approach
from OpenAPI specification for RESTful API, GraphQL IDL for GraphQL service and our
home grown schema for Hybrid service with code generation and runtime model based
validation and security.</p>

<h2 id="java-ee-vendors">Java EE vendors</h2>

<p>Years ago, Java EE vendors like Oracle and IBM spent billions dollars to develop their
application servers and these servers (WebLogic and WebSphere) will be sold for millions
dollars to big organizations. Now it is hard to sell these servers as JBoss is grabbing
market share quickly and Oracle is <a href="https://developers.slashdot.org/story/16/07/02/1639241/oracle-may-have-stopped-funding-and-developing-java-ee">dropping Java EE support</a></p>

<p>With microservices gainning traction, the application servers are hard to sell as these
servers are used to host monolithic applications. It doesn&rsquo;t make sense to host a service
with only 200 lines of code on WebSphere which has several millions lines of code.
99 percent of CPU and memory will be wasted on the Java EE server and your service will be
slow as a snail. This forces them to rebrand and make changes on their platform to allow
user to build microservices but the result is not promising. I have tested JBoss WildFly
Swarm in my <a href="https://github.com/networknt/microservices-framework-benchmark">benchmarks</a>
and it is at the bottom. WebLogic Multitenant and WebSphere Liberty will be much worse as
they are significant bigger than WildFly Swarm.</p>

<h2 id="java-ee-customers">Java EE customers</h2>

<p>From customer&rsquo;s perspective, it is not worth buying these applications as all the promises
of Java EE are not true. You build an application for WebSphere cannot be deployed on WebLogic
and you have to spend money to upgrade your application to newer version of the application
server as the old version is not supported anymore. And these upgrade cost millions of
dollars plus the cost of the new application servers.</p>

<p>Some smart people start to ask questions. Why we need to deploy our application to these
monster servers? Why we need to package our application as ear or war instead of just a
jar? Why cannot we break the big application to smaller pieces and deploy and scale them
independently.</p>

<h2 id="microservices">Microservices</h2>

<p>The answer for these questions are microservices. Wikipedia defines microservices as
&ldquo;&hellip;a software architecture style in which complex applications are composed of small,
independent processes communicating with each other using language-agnostic APIs.
These services are small, highly decoupled and focus on doing a small task,
facilitating a modular approach to system-building.&rdquo;</p>

<p>Microservice Architecture make applications easier to build by breaking down application
into services. The services are composable. Each service can be deployed and developed
separately. The services can be composed into an application. The services have the
possibility of being used in other applications more readily. This can speed up
development as services can define an interface and then the services can be developed
concurrently.</p>

<p>Another reason services make sense is resilience and scalability. Instead of depending
on a single server and a single deployment, services can be spread around multiple
machines, data centers or availability zones. If a service fails, you can start up
another. Since the application is decomposed into microservices (small services),
you can more efficiently scale it by spinning up more instances of the heaviest used
services.</p>

<p>If you have lived through COM, DCOM, CORBA, EJBs, OSGi, SOAP, SOA etc. then you
know the idea of services and components is not a new thing. The issue with enterprise
components is they assume the use of hardware servers which are large monoliths and
you want to run a lot of things on the same server. We have EJBs, WAR files and EAR
files, and all sorts of nifty components and archives because server acquisition was
a lot more difficult. Well turns out in recent years, that makes no sense. Operating
systems and servers are ephemeral, virtualized resources and can be shipped like a
component. We have EC2, OpenStack, Vagrant and Docker. The world changed. Microservice
Architecture just recognize this trend so you are not developing like you did when the
hardware, cloud orchestration, multi-cores, and virtualization did not exist.</p>

<p>Don’t use an EAR file or a WAR file when you start a new project.  Now you can run a
JVM in a Docker image which is just a process pretending to be an OS running in an OS
that could be running in the cloud which is running inside of a virtual machine which
is running in Linux server that you don’t own that you share with people who you don’t
know. Got a busy season? Well then, spin up 100 more server instances for a few weeks
or hours. This is why you run Java microservices as standalone processes and not running
inside of a Java EE container, not even a servlet container.</p>

<p>Microservice generally provide an API endpoint over HTTP/JSON. This allows easy
integration with not only services you build, but any software (open-source or from
vendor) that provides an HTTP/JSON interface. This makes the services consumable and
composable in ways that just make sense. A prime example of this is EC2, S3 and other
services from Amazon (and others). The very infrastructure you deploy on can become
part of the application and is programmable.</p>

<p>When you design your application to use microservices, you are designing it to be
modular, programmable and composable. This allows you to replace microservices with
other microservices. You can rewrite or improve parts of your larger application
without disruption. When everything has a programmable API, communications between
application microservices becomes easier.</p>

<p>While microservices are getting popular, a lot vendors are trying to re-brand their
Java EE based web services to microservices in order to sell their obsolete product.
<a href="https://networknt.github.io/light-4j/architecture/gateway/">API Gateway</a> is one of
them. These gateways are designed for Web Services but not Microservices.</p>

<p>Jason Bloomberg, president of Intellyx, talks about the distinction between a typical
web service and a microservice, arguing against the tendency to try to simply rebrand
web services as microservices in this <a href="http://techbeacon.com/dangers-microservices-washing-get-value-strip-away-hype">article</a></p>

<p>Microservices are not Web Services on enterprise service buses (ESBs). And it is not
the traditional service-oriented architecture (SOA), while it inherits some of the
basic principles of SOA, it&rsquo;s fundamentally a different set of practices because the
entire environment has completely transformed.</p>

<p>The environment for microservices architecture, in contrast, is the borderless
enterprise: end-to-end, cloud-centric digital applications leveraging fully
virtualized and containerized infrastructure. Containers take applications and
services down to a self-contained, component level, and DevOps provides the framework
for the IT infrastructure and automation to develop, deploy, and manage the
environment.</p>

<p>Microservices don&rsquo;t require containers (or vice versa), but they&rsquo;re easily
containerizable by design. Furthermore, if you&rsquo;re implementing containers,
it&rsquo;s difficult and typically unwise to put any new executable code other than
microservices in them.</p>

<p>Docker and other container technologies are viewed by some as a integral to microservice
architecture and some confuse and conflate containers with microservices. Containers are
minimalist OS pieces to run your microservice on. Docker provides ease of development and
enables easier integration testing.</p>

<p>Containers are just an enabler to microservices and you can do microservice development
without containers. And you can use Docker to deploy monolithic application. Microservices
and containers like Docker go well together. However, Microservices are a lot more than
containers!</p>

<h2 id="conclusion">Conclusion</h2>

<p>As application development style has been changing over the recent years, microservices
are getting more and more popular. Big corporations are breaking their big applications
up to smaller pieces that can be individually deployed and replaced. These smaller
services are deployed within docker containers on the cloud. I myself have been working
on this area for my clients for the last couple of years and devoted my time to build
an open source microservices framework <a href="https://github.com/networknt/light-4j">Light 4J</a>
which provides all cross cutting concerns for microservices running in containers. It
supports design driven approach and developers will only focus on the domain business
logic in generated handlers. All the rest will be handled by the Framework and DevOps flow.
So far, it is one of the fastest microservices framework available.</p>


			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the MIT license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://networknt.github.io/architecture/spring-is-bloated/" title="Spring is bloated">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Spring is bloated
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://networknt.github.io/architecture/microservices/" title="Microservices">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Microservices
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/networknt.github.io\/';
      var repo_id  = 'networknt\/light-doc';
    
    </script>

    <script src="https://networknt.github.io/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

